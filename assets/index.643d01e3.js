var q=Object.defineProperty,z=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var _=(e,t,s)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,o=(e,t)=>{for(var s in t||(t={}))L.call(t,s)&&_(e,s,t[s]);if(w)for(var s of w(t))R.call(t,s)&&_(e,s,t[s]);return e},D=(e,t)=>z(e,H(t));import{a as F,at as G,i as S,an as J,aH as K,aq as Q,w as T}from"./index.c3d9cc95.js";import{A as U,r as b,j as m,u as n,w as d,b_ as E,bO as X,a4 as Y,bu as Z,ah as ee}from"./vendor.8ad69e65.js";function te(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!X(e)}const ne={useCollapse:{type:Boolean,default:!0},title:{type:String,default:""},size:{type:String,validator:e=>["small","default","middle",void 0].includes(e),default:"small"},bordered:{type:Boolean,default:!0},column:{type:[Number,Object],default:()=>({xxl:4,xl:3,lg:3,md:3,sm:2,xs:1})},collapseOptions:{type:Object,default:null},schema:{type:Array,default:()=>[]},data:{type:Object}};var se=U({name:"Description",props:ne,emits:["register"],setup(e,{slots:t,emit:s}){const p=b(null),{prefixCls:C}=F("description"),c=G(),i=m(()=>o(o({},e),n(p))),g=m(()=>D(o({},n(i)),{title:void 0})),I=m(()=>!!n(i).title),M=m(()=>o({canExpand:!1},n(g).collapseOptions)),A=m(()=>o(o({},n(c)),n(g)));function N(r){p.value=o(o({},n(p)),r)}function W({label:r,labelMinWidth:l,labelStyle:a}){if(!a&&!l)return r;const u=D(o({},a),{minWidth:`${l}px `});return d("div",{style:u},[r])}function $(){const{schema:r,data:l}=n(g);return n(r).map(a=>{const{render:u,field:v,span:V,show:x,contentMinWidth:j}=a;if(x&&S(x)&&!x(l))return null;const O=()=>{var P;const f=(P=n(g))==null?void 0:P.data;if(!f)return null;const y=Z(f,v);return S(u)?u(y,f):y!=null?y:""},k=j;return d(E.Item,{label:W(a),key:v,span:V},{default:()=>{if(!j)return O();const f={minWidth:`${k}px`};return d("div",{style:f},[O()])}})}).filter(a=>!!a)}const h=()=>{let r;return d(E,Y({class:`${C}`},n(A)),te(r=$())?r:{default:()=>[r]})},B=()=>{const r=e.useCollapse?h():d("div",null,[h()]);if(!e.useCollapse)return r;const{canExpand:l,helpMessage:a}=n(M),{title:u}=n(i);return d(K,{title:u,canExpan:l,helpMessage:a},{default:()=>r,action:()=>J(t,"action")})};return s("register",{setDescProps:N}),()=>n(I)?B():h()}});function ie(e){if(!ee())throw new Error("useDescription() can only be used inside setup() or functional components!");const t=b(null),s=b(!1);function p(c){n(s)&&Q()||(t.value=c,e&&c.setDescProps(e),s.value=!0)}return[p,{setDescProps:c=>{var i;(i=n(t))==null||i.setDescProps(c)}}]}const le=T(se);export{le as D,ie as u};
