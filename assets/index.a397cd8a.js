var y=(l,c,o)=>new Promise((t,m)=>{var p=e=>{try{i(o.next(e))}catch(a){m(a)}},f=e=>{try{i(o.throw(e))}catch(a){m(a)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(p,f);i((o=o.apply(l,c)).next())});import{A as C,r as h,S as T,$ as D,n as k,a0 as A,B as j,D as g,aa as R,ao as S,F as B,G as F,w as s,u as r,a5 as n,ad as x,J as _}from"./vendor.96281ef1.js";import V from"./DetailModal.18b25a66.js";import{u as I,B as M}from"./useTable.b7e5a730.js";import{T as $}from"./useForm.a1023ae7.js";import{b as H}from"./index.3768fa6f.js";import{a7 as N,b as z,aF as G}from"./index.4ee3f43d.js";import{getColumns as J}from"./data.f6bcf5c4.js";import"./index.1082bfe9.js";import"./index.e0581093.js";import"./index.abb01703.js";/* empty css               *//* empty css                */import"./useWindowSizeFn.a0521c45.js";import"./useContentViewHeight.beb7e5c9.js";/* empty css               *//* empty css               *//* empty css               *//* empty css               */import"./useSortable.b80b4108.js";/* empty css               *//* empty css               *//* empty css               */import"./index.40f736a1.js";import"./download.d1f26569.js";var w;(function(l){l.Error="/error"})(w||(w={}));const W=()=>N.get({url:w.Error}),q={class:"p-4"},K=["src"],_e=C({setup(l){const c=h(),o=h([]),{t}=z(),m=G(),[p,{setTableData:f}]=I({title:t("sys.errorLog.tableTitle"),columns:J(),actionColumn:{width:80,title:"Action",dataIndex:"action",slots:{customRender:"action"}}}),[i,{openModal:e}]=H();T(()=>m.getErrorLogInfoList,u=>{D(()=>{f(k(u))})},{immediate:!0});function a(u){c.value=u,e(!0)}function E(){throw new Error("fire vue error!")}function v(){o.value.push(`${new Date().getTime()}.png`)}function L(){return y(this,null,function*(){yield W()})}return(u,O)=>{const b=A("a-button");return j(),g("div",q,[(j(!0),g(R,null,S(o.value,d=>B((j(),g("img",{key:d,src:d},null,8,K)),[[F,!1]])),128)),s(V,{info:c.value,onRegister:r(i)},null,8,["info","onRegister"]),s(r(M),{onRegister:r(p),class:"error-handle-table"},{toolbar:n(()=>[s(b,{onClick:E,type:"primary"},{default:n(()=>[x(_(r(t)("sys.errorLog.fireVueError")),1)]),_:1}),s(b,{onClick:v,type:"primary"},{default:n(()=>[x(_(r(t)("sys.errorLog.fireResourceError")),1)]),_:1}),s(b,{onClick:L,type:"primary"},{default:n(()=>[x(_(r(t)("sys.errorLog.fireAjaxError")),1)]),_:1})]),action:n(({record:d})=>[s(r($),{actions:[{label:r(t)("sys.errorLog.tableActionDesc"),onClick:a.bind(null,d)}]},null,8,["actions"])]),_:1},8,["onRegister"])])}}});export{_e as default};
