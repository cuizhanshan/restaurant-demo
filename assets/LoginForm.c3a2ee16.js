var h=(b,m,i)=>new Promise((r,p)=>{var o=n=>{try{u(i.next(n))}catch(c){p(c)}},f=n=>{try{u(i.throw(n))}catch(c){p(c)}},u=n=>n.done?r(n.value):Promise.resolve(n.value).then(o,f);u((i=i.apply(b,m)).next())});import{A,bM as F,an as R,r as y,P as N,j as K,u as e,a0 as v,B as O,D as U,F as j,G as B,w as s,a5 as t,ad as x,J as w,bP as V,aa as G,bL as $,bO as q}from"./vendor.931bb567.js";/* empty css               *//* empty css               */import{b as J,a as W,au as H}from"./index.de242ad9.js";import{u as Q,a as X,L as D,b as Y}from"./useLogin.f48f565f.js";const ne=A({setup(b){const m=$,i=q,r=F.Item,p=R.Password,{t:o}=J(),{createErrorModal:f}=H(),{prefixCls:u}=W("login"),{setLoginState:n,getLoginState:c}=Q(),{getFormRules:E}=X(),_=y(),g=y(!1),k=y(!1),d=N({account:"",password:""}),{validForm:I}=Y(_),C=K(()=>e(c)===D.LOGIN);function L(){return h(this,null,function*(){if(!!(yield I()))try{g.value=!0}catch(a){f({title:o("sys.api.errorTip"),content:a.message||o("sys.api.networkExceptionMsg"),getContainer:()=>document.body.querySelector(`.${u}`)||document.body})}finally{g.value=!1}})}return(M,a)=>{const P=v("LoginFormTitle"),T=v("Checkbox"),S=v("Button");return O(),U(G,null,[j(s(P,{class:"enter-x"},null,512),[[B,e(C)]]),j(s(e(F),{class:"p-4 enter-x",model:e(d),rules:e(E),ref:(l,z)=>{z.formRef=l,_.value=l},onKeypress:V(L,["enter"])},{default:t(()=>[s(e(r),{name:"account",class:"enter-x"},{default:t(()=>[s(e(R),{size:"large",value:e(d).account,"onUpdate:value":a[0]||(a[0]=l=>e(d).account=l),placeholder:e(o)("sys.login.userName"),class:"fix-auto-fill"},null,8,["value","placeholder"])]),_:1}),s(e(r),{name:"password",class:"enter-x"},{default:t(()=>[s(e(p),{size:"large",visibilityToggle:"",value:e(d).password,"onUpdate:value":a[1]||(a[1]=l=>e(d).password=l),placeholder:e(o)("sys.login.password")},null,8,["value","placeholder"])]),_:1}),s(e(i),{class:"enter-x"},{default:t(()=>[s(e(m),{span:12},{default:t(()=>[s(e(r),null,{default:t(()=>[s(T,{checked:k.value,"onUpdate:checked":a[2]||(a[2]=l=>k.value=l),size:"small"},{default:t(()=>[x(w(e(o)("sys.login.rememberMe")),1)]),_:1},8,["checked"])]),_:1})]),_:1}),s(e(m),{span:12},{default:t(()=>[s(e(r),{style:{"text-align":"right"}},{default:t(()=>[s(S,{type:"link",size:"small",onClick:a[3]||(a[3]=l=>e(n)(e(D).RESET_PASSWORD))},{default:t(()=>[x(w(e(o)("sys.login.forgetPassword")),1)]),_:1})]),_:1})]),_:1})]),_:1}),s(e(r),{class:"enter-x"},{default:t(()=>[s(S,{type:"primary",size:"large",block:"",onClick:L,loading:g.value},{default:t(()=>[x(w(e(o)("sys.login.loginButton")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules","onKeypress"]),[[B,e(C)]])],64)}}});export{ne as default};
